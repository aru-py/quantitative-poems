% configure output to be digital or print
\newcommand{\setformat}[1]{
    \ifnum
        #1=1
        \documentclass[10pt, oneside]{book}
        \usepackage{formats/digital}
    \else
        \documentclass[10pt, twoside, openany]{book}
        \usepackage{formats/print}
    \fi
}

% 1 = digital, 2 = print
%! suppress = FileNotFound
\setformat{1}

\usepackage[utf8]{inputenc}

\usepackage{indentfirst}
\usepackage{titlesec}
\usepackage{pdfpages}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{makeidx}
\usepackage{tocloft}

% create index
\makeindex

% add hyperlinks
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

% change font to Garamond
\usepackage{ebgaramond}

\usepackage{enumitem}
\setlist[itemize]{
    topsep=6pt,
    partopsep=0pt,
    itemsep=6pt,
    parsep=0pt,
    leftmargin=12pt
}

% table of contents
\setlength{\cftbeforechapskip}{6pt}
\renewcommand{\cftchapfont}{\normalsize}
\renewcommand{\cftchappagefont}{\normalfont}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

\usepackage{amsmath, geometry, xcolor, enumitem}
\usepackage{musixtex} % for musical notation
\usepackage{harmony} % for chord symbols

\definecolor{accent}{HTML}{481AFF}

% command for formatting individual notes
\newcommand{\note}[2]{
    \textbf{#1} (#2)
}

% command for formatting melodies
\newcommand{\melody}[3]{
    \addcontentsline{toc}{chapter}{#1}
    \index{#1}

    \vspace*{.5em}
    {\raggedright\Huge\bfseries #1\par}

    \vspace{1em}

    % Musical notation section
    {\large\bfseries\color{accent} Melody:}
    \vspace{0.5em}

    \begin{center}
    \large
    \texttt{#2}
    \end{center}

    \vspace{1.5em}

    % Clean section headers
    {\large\bfseries\color{accent} Explanation:}
    \vspace{0.5em}

    #3

    \clearpage
}

\usepackage{xcolor}
\usepackage{afterpage}
\usepackage{color}

\titleformat{\part}[block]
{\normalfont\huge\bfseries\centering}
{\afterpage{\pagecolor{white}}\pagecolor[HTML]{481AFF}\color{white}\thepart.}
{.5em}
{\color{white}}

\title{Melodic Expressions}
\author{Aru Bhoop}

\begin{document}
    % cover page
    \includepdf[pages=-]{assets/cover.pdf}
    \frontmatter

    % introduction
    \cleardoublepage
    \vspace*{\fill}
    \begin{center}
        \textit{This book is a musical exploration of the human experience, expressed through melodies written by artificial intelligence.}
    \end{center}
    \vspace{\fill}
    \clearpage

    % table of contents
    \tableofcontents
    \mainmatter
    \input{outline}
    \printindex
    \backmatter
\end{document}